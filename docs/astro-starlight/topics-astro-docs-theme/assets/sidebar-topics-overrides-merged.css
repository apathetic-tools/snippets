/**
 * Astro Docs theme port for starlight-sidebar-topics
 * 
 * Instructions:
 * - Follow the step-by-step guide below to update this file
 *
 * Inspired by Apathetic Tools · MIT
 * https://github.com/apathetic-tools/snippets/blob/main/docs/astro-starlight/topics-astro-docs-theme
 * 
 * Theme: Astro Docs · MIT
 * https://github.com/withastro/docs
 */

 /* ---------------- VARIABLES ---------------- */

.starlight-sidebar-topics {
	/* Layout variables */
	--tab-switcher-border-width: 1px;
	--tab-switcher-padding: calc(0.25rem - var(--tab-switcher-border-width));
	--tab-item-border-radius: 0.5rem;
	--tab-switcher-border-radius: calc(
		var(--tab-item-border-radius) + var(--tab-switcher-padding) + var(--tab-switcher-border-width)
	);

	/* Color variables */
	--tab-switcher-border-color: var(--sl-color-hairline-light);
	--tab-switcher-background-color: var(--sl-color-gray-7, var(--sl-color-gray-6));
	--tab-switcher-text-color: var(--sl-color-gray-3);
	--tab-switcher-text-color--active: var(--sl-color-white);
	--tab-switcher-icon-color: var(--sl-color-gray-4);
	--tab-switcher-icon-color--active: var(--sl-color-text-accent);
	--tab-item-background-color--hover: var(--sl-color-gray-6);
	--tab-item-background-color--active: var(--sl-color-black);
}

/* Dark theme variations */
[data-theme='dark'] .starlight-sidebar-topics {
	--tab-switcher-text-color: var(--sl-color-gray-2);
	--tab-switcher-icon-color: var(--sl-color-gray-3);
	--tab-item-background-color--hover: var(--sl-color-gray-5);
}

@media (min-width: 50rem) {
	/* Dark theme variations with the desktop sidebar visible */
	[data-theme='dark'] .starlight-sidebar-topics {
		--tab-switcher-background-color: var(--sl-color-black);
		--tab-item-background-color--hover: var(--sl-color-gray-6);
		--tab-item-background-color--active: var(--sl-color-gray-6);
	}
}

/* ---------------- OVERRIDES ---------------- */

/* 
    Reset styles from starlight-sidebar-topics
    with Astro Docs styles
*/

ul.starlight-sidebar-topics {
	/* from HiDeoo */
	list-style: none;
	padding: var(--tab-switcher-padding);
	
    /* from astro only */
	border: var(--tab-switcher-border-width) solid var(--tab-switcher-border-color);
	border-radius: var(--tab-switcher-border-radius);
	display: flex;
	flex-direction: column;		
	gap: 0.25rem;
	background-color: var(--tab-switcher-background-color);				
	margin-bottom: 0;
}

/* This selector is difficult, any other combination will result in double margins */
ul.starlight-sidebar-topics::after {
	/* from HiDeoo only */
    display: none;
}

ul.starlight-sidebar-topics li {
	/* from HiDeoo only */
	overflow-wrap: anywhere;
}

ul.starlight-sidebar-topics li + li {
	/* from HiDeoo only */
	margin-top: 0;
}

ul.starlight-sidebar-topics li a {
	/* from HiDeoo */
	align-items: center;		
	color: var(--tab-switcher-text-color);
	display: flex;
	font-size: inherit;
	font-weight: 600;		
	gap: 0.5rem;
	line-height: var(--sl-line-height-headings);
	padding: calc(0.5rem - var(--tab-switcher-border-width));
	text-decoration: none;

    /* from astro only */
	border: var(--tab-switcher-border-width) solid transparent;
	border-radius: var(--tab-item-border-radius);
	background-clip: padding-box;
}

ul.starlight-sidebar-topics a:hover {
	/* from HiDeoo */
	color: var(--tab-switcher-text-color--active);

    /* from astro only */
	background-color: var(--tab-item-background-color--hover);
}

ul.starlight-sidebar-topics a.starlight-sidebar-topics-current {
	/* from HiDeoo */
	color: var(--tab-switcher-text-color--active);

    /* from astro only */
	border-color: var(--tab-switcher-border-color);	
	background-color: var(--tab-item-background-color--active);
}

/* Icon wrapper */
ul.starlight-sidebar-topics .starlight-sidebar-topics-icon {
	/* from HiDeoo */
	align-items: center;
	border: none;
	display: flex;		
	justify-content: center;
	padding: 0;
			
    /* from astro only */
	margin: 0.25rem;
	color: var(--tab-switcher-icon-color);
}

ul.starlight-sidebar-topics a:hover .starlight-sidebar-topics-icon {
	/* from HiDeoo */
	background-color: inherit;
    border-color: inherit;
	color: inherit;
}

ul.starlight-sidebar-topics a.starlight-sidebar-topics-current .starlight-sidebar-topics-icon {
	/* from HiDeoo */
    background-color: inherit;
    border-color: inherit;
	color: var(--tab-switcher-icon-color--active);
}

ul.starlight-sidebar-topics .starlight-sidebar-topics-badge {
	/* from HiDeoo */
	margin-inline-start: 0.25em;
}